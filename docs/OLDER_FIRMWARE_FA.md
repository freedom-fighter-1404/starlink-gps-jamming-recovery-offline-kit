# فریمور قدیمی یا Schema محدود — چه کار کنیم؟

اگر گزینه “Disable GPS” خطا داد، معمولاً یکی از این حالت‌هاست:
1) دستگاه شما روی شبکه محلی دیش نیست (Wi‑Fi/شبکه استارلینک)، یا
2) فریمور شما از `dish_inhibit_gps` پشتیبانی نمی‌کند (فریمور قدیمی / ویژگی موجود نیست)، یا
3) مشکل اصلی پارازیت GPS/GNSS نیست (مثلاً پارازیت روی لینک Ku/Ka).

نکته: این کیت یک Schema آفلاین داخل خودش دارد (`proto/starlink.protoset`) و حتی اگر Reflection غیرفعال باشد هم می‌تواند کار کند.

## گام ۱: Probe را اجرا کنید (پیشنهادی)
- Windows: داخل `START_WINDOWS.bat` گزینه “Probe”
- macOS/Linux: دستور `./scripts/starlink_gps.sh probe`

Probe چه چیزی را نشان می‌دهد؟
- آیا دستگاه شما می‌تواند به `192.168.100.1:9200` روی شبکه محلی وصل شود یا نه.
- آیا Reflection برای gRPC روی این دستگاه فعال است یا نه (بعضی فریمورها آن را غیرفعال می‌کنند).
- اگر Reflection فعال باشد، مشخص می‌کند آیا `dish_inhibit_gps` در Schema زنده وجود دارد یا نه.

اگر Reflection غیرفعال باشد، Probe نمی‌تواند فیلدهای Schema زنده را لیست کند. در این حالت، تست عملی ساده است:
- گزینه **Disable GPS** را امتحان کنید
- اگر باز هم خطا داد، سراغ گام ۲ و گام ۳ بروید.

## گام ۲: تنظیم رسمی استارلینک (اگر موجود است)
اگر در تنظیمات استارلینک این گزینه را دارید (بدون اینترنت و روی Wi‑Fi محلی):
- Settings → Advanced → Debug Data
- گزینه **"Use Starlink positioning exclusively"** را فعال کنید

طبق گزارش‌های عمومی، فعال کردن این گزینه به ترمینال می‌گوید **از GPS استفاده نکند** و در نتیجه پارازیت GPS می‌تواند بی‌اثر شود. چند نکته/هزینه احتمالی:
- ممکن است زمان شروع/پیدا کردن ماهواره‌ها طولانی‌تر شود.
- ممکن است در حالت حرکت (خودرو/قایق) خوب کار نکند.

منبع عمومی (متن گزینه + توضیح درباره GNSS/jamming):
- https://olegkutkov.me/2023/11/07/connecting-external-gps-antenna-to-the-starlink-terminal/

## گام ۳: راهکارهای فیزیکی (مستقل از فریمور)
وقتی نتوانید GPS را با نرم‌افزار غیرفعال کنید، ممکن است راهکار فیزیکی لازم باشد.

### گزینه A: تغییر آنتن GPS خارجی
تغییرات سخت‌افزاری برای انتقال/افزایش مسیر آنتن GPS در مقالات فنی مستند شده است.
این روش به دستور خاص فریمور وابسته نیست.

هشدار:
- نیاز به باز کردن دیش (ریسک گارانتی).
- نیاز به مهارت الکترونیک و کار دقیق RF.

یک منبع عمومی:
- https://olegkutkov.me/2023/11/07/connecting-external-gps-antenna-to-the-starlink-terminal/

### گزینه B: آپدیت فریمور (در صورت امکان)
اگر بتوانید حتی برای مدت کوتاه اتصال را برقرار کنید، اجازه دهید دیش آپدیت شود.
فریمورهای جدید ممکن است گزینه‌های بیشتری داشته باشند.

## گام ۴: اگر غیرفعال کردن GPS کمکی نکرد
اگر GPS/positioning را غیرفعال کرده‌اید اما همچنان اتصال ناپایدار است، ممکن است مشکل **پارازیت روی لینک Ku/Ka** باشد نه GPS. این کیت پارازیت لینک Ku/Ka را پوشش نمی‌دهد.

## به چه چیزی تکیه نکنیم
- “payload” های باینری تصادفی برای پورت 9201 معمولاً تأیید نشده‌اند و ممکن است برای فریمور شما غلط باشند.
