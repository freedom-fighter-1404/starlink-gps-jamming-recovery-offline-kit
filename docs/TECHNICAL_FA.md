# نکات فنی (مختصر)

## چرا GPS مهم است؟
ترمینال‌های استارلینک از GNSS/GPS برای **موقعیت و زمان دقیق** استفاده می‌کنند و این موضوع برای مرحله "sky search" و زمان‌بندی شبکه اهمیت دارد.

## رابط محلی (بدون نیاز به اینترنت)
دیش یک رابط gRPC محلی روی این آدرس دارد:
- `192.168.100.1:9200` (gRPC بومی)

این کیت با `grpcurl` و ورودی JSON، متد زیر را صدا می‌زند:
- `SpaceX.API.Device.Device/Handle`

## Reflection اختیاری است (Schema آفلاین داخل کیت)
در بعضی نسخه‌های فریمور، Reflection برای gRPC غیرفعال است. این کیت یک Schema حداقلی آفلاین داخل خودش دارد تا در این حالت هم کار کند:
- `proto/starlink.protoset` (ساخته شده از `proto/starlink_minimal.proto`)

## دستور GPS inhibit (فریمورهای جدید)
این کیت این پیام را ارسال می‌کند:
```json
{"dishInhibitGps":{"inhibitGps":true}}
```

## خواندن `gpsStats` (نشانه‌های پارازیت vs اسپوفینگ)
وقتی گزینه **Status** را اجرا می‌کنید، ممکن است در خروجی بخشی به نام `gpsStats` ببینید که فیلدهایی مثل این‌ها دارد:
- `gpsValid` (درست/نادرست)
- `gpsSats` (تعداد ماهواره‌ها)
- `noSatsAfterTtff` (درست/نادرست)
- `inhibitGps` (درست/نادرست)

این فیلدها می‌توانند نشانه بدهند، اما **به‌تنهایی قطعی نیستند**.

الگوهای رایج:
- `inhibitGps: true` یعنی استفاده از GPS غیرفعال شده. اگر گزینه “Disable GPS” را زده‌اید، طبیعی است.
- `gpsValid: false` و `gpsSats: 0` می‌تواند نشانه پارازیت شدید GPS یا دید ضعیف به آسمان باشد.
- `gpsValid: true` با تعداد ماهواره معمولی اما `inhibitGps: true` ممکن است نتیجه تنظیمی باشد که خودتان فعال کرده‌اید؛ بعضی گزارش‌های عمومی تله‌متری هم نشان می‌دهند ممکن است ترمینال در شرایط مشکوک به اسپوفینگ/جعل سیگنال، GPS را خودکار inhibit کند.

## پایداری تنظیم
در بعضی نسخه‌های فریمور، این تنظیم ممکن است بعد از ریبوت/آپدیت **برگردد**. اگر برای شما برمی‌گردد، از حالت Daemon استفاده کنید.

## این کیت عمداً چه کارهایی را انجام نمی‌دهد؟
- از payload های باینری تأیید نشده (gRPC-web) استفاده نمی‌کند.
- سعی نمی‌کند payload “همه‌کاره” تولید کند که ممکن است برای فریمور شما غلط باشد.
